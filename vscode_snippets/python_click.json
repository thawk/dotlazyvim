{
    "skel": {
        "prefix": "skel",
        "body": [
            "#!/usr/bin/env python",
            "# -*- coding: utf-8 -*-",
            "",
            "import logging",
            "import os",
            "import sys",
            "import functools",
            "",
            "import click",
            "",
            "VERSION = u'\\$CURRENT_YEAR\\$CURRENT_MONTH\\$CURRENT_DATE'",
            "",
            "logger = logging.getLogger()",
            "",
            "class Context(object):",
            "\tdef __init__(self):",
            "\t\tself.quiet = False",
            "\t\tself.verbose = False",
            "",
            "pass_context = click.make_pass_decorator(Context, ensure=True)",
            "",
            "",
            "def init_common_params(func):",
            "    \"\"\"Used to inject common params to sub-command",
            "    \"\"\"",
            "",
            "    @click.option('--quiet', '-q', is_flag=True, default=False, help=\"Quiet mode.\")",
            "    @click.option('--verbose', '-v', is_flag=True, default=False, help=\"Verbose mode.\")",
            "    @pass_context",
            "    @functools.wraps(func)",
            "    def wrapper(context, *args, **kwargs):",
            "        context.quiet = kwargs['quiet']",
            "        context.verbose = kwargs['verbose']",
            "",
            "        del kwargs['quiet']",
            "        del kwargs['verbose']",
            "",
            "        return func(context, *args, **kwargs)",
            "",
            "    return wrapper",
            "",
            "",
            "def common_params(func):",
            "\t\"\"\"Merge common params and do some common initilize",
            "\t\"\"\"",
            "",
            "    @init_common_params",
            "    @functools.wraps(func)",
            "    def wrapper(context, *args, **kwargs):",
            "        setup_logger(quiet=context.quiet, verbose=context.verbose)",
            "",
            "        return func(context, *args, **kwargs)",
            "",
            "    return wrapper",
            "",
            "",
            "def setup_logger(quiet=False, verbose=False):",
            "\t\"\"\"日志初始化",
            "\tArgs:",
            "\t\targs (Dict[string, string]): 命令行参数",
            "\t\"\"\"",
            "\tlog_format = u'%(asctime)s %(levelname)s %(message)s'",
            "",
            "\tif quiet:",
            "\t\tlogging.basicConfig(level=logging.WARNING, format=log_format)",
            "\telif verbose:",
            "\t\tlogging.basicConfig(level=logging.DEBUG, format=log_format)",
            "\telse:",
            "\t\tlogging.basicConfig(level=logging.INFO, format=log_format)",
            "",
            "",
            "@click.group()",
            "@click.version_option(version=VERSION)",
            "@init_common_params",
            "def cli(",
            "\tcontext,",
            "):",
            "\tpass",
            "",
            "",
            "@cli.command()",
            "@click.argument('input', type=click.File('rb'))",
            "@common_params",
            "def command1(",
            "\t\tcontext,",
            "\t\tinput):",
            "\tpass",
            "",
            "",
            "if __name__ == '__main__':",
            "\tcli()"
        ],
        "description": "Skel using click with sub-commands"
    },
    "setup": {
        "prefix": "setup",
        "body": [
            "#!/usr/bin/env python",
            "# -*- coding: utf-8 -*-",
            "",
            "from setuptools import setup, find_packages",
            "",
            "setup(",
            "\tname='${1:yourpackage}',",
            "\tversion='0.1.0',",
            "\tpackages=find_packages(),",
            "\tinclude_package_data=True,",
            "\tinstall_requires=[",
            "\t\t'Click',",
            "\t],",
            "\tentry_points={",
            "\t\t'console_scripts': [",
            "\t\t\t'${2:$1} = $1.scripts.$2:cli',",
            "\t\t],",
            "\t},",
            ")"
        ],
        "description": "setup.py with package using setuptools"
    },
    "option": {
        "prefix": "option",
        "body": [
            "@click.option('${1:filename}', type=click.Path(${2:exists=True}))"
        ],
        "description": "click path option"
    },
    "argument": {
        "prefix": "argument",
        "body": [
            "@click.argument('${1:filename}', type=click.Path(${2:exists=True}))"
        ],
        "description": "click path arguments"
    }
}
